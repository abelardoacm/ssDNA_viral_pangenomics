#ABriefRepoHistory.md

#### These are the conclusions and summary of the objectives achieved ssDNA_viral_pangenomics
#### ...like goodol stories it is a trilogy.

### In the shadows

The date is September 2020. This is the subfolder tree of my shameful folder titled "ProyectoMaestría2". Don't bother to analyze it, the structure lacks logic and order, while it is littered with poorly nested folders and "tmp", "tmp2" or "deleteMe" files.

```
ProyectoMaestría2
.
├── GB2fastasplitnoLTR
│   └── Sample306_Fixed_All
├── Literatura
│   ├── Antecedentes LabOrigen
│   ├── Redes
│   └── Virología
├── NUEVAS_MATRICES
├── PowerSpectrum
│   └── MatricesListasParaSplitsTree
│       └── MatricesParaNbClust
├── Python_scripts_concatenate
├── Resultados
│   ├── Alphasatellitidae
│   │   └── Alphasatellitidae_FilteredByPc
│   ├── Anelloviridae
│   │   └── Anelloviridae_FilteredByPc
│   ├── Bacilladnaviridae
│   │   └── Bacilladnaviridae_FilteredByPc
│   ├── Bidnaviridae
│   │   └── Bidnaviridae_FilteredByPc
│   ├── Circoviridae
│   │   └── Circoviridae_FilteredByPc
│   ├── Geminiviridae
│   │   └── Geminiviridae_FilteredByPc
│   ├── Genomoviridae
├── Secuencias
│   ├── Alphasatellitidae
│   │   ├── FastaGenomes
│   │   └── Genomas.gb_Alphasatellitidae
│   ├── Anelloviridae
│   │   ├── FastaGenomes
│   │   └── Genomas.gb_Anelloviridae
│   ├── Bacilladnaviridae
│   │   ├── FastaGenomes
│   │   └── Genomas.gb_Bacilladnaviridae
│   │       └── PangenomaTutoral1
│   │           ├── PangenomaCluster1
│   │           ├── PangenomaCluster1_homologues
│   │           │   └── tmp
│   │           ├── PangenomaCluster2
│   │           ├── PangenomaCompleto
│   │           ├── PangenomaCompleto_homologues
│   │           │   ├── Chaetocerosprotobacilladnavirus3DNAcompletegenome_f0_0taxa_algCOG_e0_
│   │           │   ├── Chaetocerosprotobacilladnavirus3DNAcompletegenome_f0_0taxa_algOMCL_e0_
│   │           │   ├── Chaetocerosprotobacilladnavirus3DNAcompletegenome_f0_alltaxa_algBDBH_e0_
│   │           │   └── tmp
│   │           └── sample_intersection
└── UNIFICACION
```
As I anticipated, if folders are scary, files are horrifying. The scripts that I had implemented up to that moment required to be totally changed to operate with different data, because in some cases the data itself was part of the script. Going from one viral family to another meant modifying the script and generating a new one, one with other absolute paths. Given one step, it was impossible to go back. The history of each file was blur after its creation. Consequently, only some of my 15 ssDNA viral families were selected to generate figures to present to my committee.

The need to start over was imminent and a trace of it is the "UNIFICACION" folder, where some time ago I tried (and was defeated) to automatically rename files using a database that tried to match the old and new names generated by each manipulation.

### A cage that actually releases: bin, data results

The day I met github in the bioinformatics practice workshop I knew that everything that lived in "ProyectoMaestriaBueno" had to fit into three folders titled bin, data and results. At first I thought of them as cages to contain my uncontrollable but useless scripts. Paradoxically they could only enter their cages by acquiring freedom. I remember that the moment I heard "... everything should be able to run from bin" from Alicia I thought, ooooohhhh so you also think the same but it'ss kinda impossible right?

Fortunately it is not, and that same day I started giving wings to my little demons. The first thing I did was use relative paths in the scripts I had. For those in process, I created container files with specific locations and the challenge was to get them to work from there (bin), read from (data) and send everything to (results). My ssDNA_viral_pangenomics repository was born and it was great to have reliable and automatic change control for the first time. I learned to be disciplined and to only upload commits that would bring me closer to good programming practices and I prohibited myself from generating partial advances for my database.

### Fast and furious

In the first six months of my project, I made advances only for a single family (Bacilladnaviridae), basically data management prior to addressing my real research question. All the time I knew it was wrong but I needed results.

The date is someday in January 2021, after editing my scripts numbered 1-6, I just uploaded my last commit for pre-managing data for my pangenomic analysis. The 0.1_Master_Driver.sh script is the first code file that I would feel good about sharing to someone whose need of prior data handling resembles mine.

My work can be summarized as:

1. Download genomes
2. Filter database
3. Cluster by distances

A few months ago I presented the results for a viral family up to step 3. Today, after downloading the raw data, it takes no more than a couple of minutes to generate the 3 steps for a family, recording the parameters decided at each step, generating clustering graphs before and after the filtering, and obtaining folders ready to be analyzed by a pangenomics software. This is my work operating on all the genomes available for the Monodnaviria taxon (all single-stranded DNA viruses):



Although the approach of generating paired distances without alignments is not my own, I am happy to be able to couple the analysis to raw data, external clustering software, generate clustering graphs and a written report.


### Discussion

The impact of taking my analysis to a structure that favors reproducibility is huge. The fact that my work can be shared is good not only for other members of my laboratory (who should adopt these practices too), but also for me. I can interrupt my work and a future myself will not have so much trouble to resume. My project is now even portable, I can wokr from other sites and move forward with much more fluidity. For my next results report to my committee, it will not only be some lucky families that make it to the last analysis, today it may be 15 ssDNAs or more. After automating this first part of my project, I can address the biological interpretation of the results and conduct other evolutionary analyzes.

The implemented graphs would be part of my results to report and they are already much better than the ones I did previously almost by hand. I found the ggplot package quite attractive and useful to implement and I generate these cool graphs:

Remember that the objective of my data manipulation is to generate previous groupings for pangenomics, I think this graph summarizes my work very well. As can be seen at a first sight, the grouping is clear, and so the lmits of the groups. In some families, clusters reflect subfamilies or even genera.

My goals now will be to optimize the code so that it operates faster, as well as to implement alternatives to the matlab script (which thanks to the resolved issue is about to be incorporated).I'm excited about the direction the project has taken once it has the flexibility that living on github gives it. It will also be interesting to contrast different alignment-free methods that can be implemented, and even later generate benchmarks of the methods based on their performance to classify viral sequences prior to a pangenomic analysis whose purpose is the classification of orthologs of interest. to address the origins and early evolution of viral groups.

